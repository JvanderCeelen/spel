(()=>{"use strict";let e={"0,0":{name:"The gate",exits:["n","s","e","w"],monsters:[],description:"This, my friend, is a perfectly normal gate. The gate."},"1,0":{name:"road",exits:["e","w","s"],monsters:["tree"],description:"test road1"},"2,0":{name:"road",exits:["e","w"],monsters:[],description:"test road2"},"3,0":{name:"ruin",exits:["n","s","e","w"],monsters:["orc"],description:"A very old ruin."},"1,1":{name:"road",exits:["e","w"],monsters:[]},"2,1":{name:"road",exits:["e","w"],monsters:[]},"3,1":{name:"start",exits:["n","s","e","w"],monsters:[]},"1,2":{name:"road",exits:["e","w"],monsters:[]},"2,2":{name:"road",exits:["e","w"],monsters:[]},"3,2":{name:"start",exits:["n","s","e","w"],monsters:[]},"1,3":{name:"road",exits:["e","w"],monsters:[]},"2,3":{name:"road",exits:["e","w"],monsters:[]},"3,3":{name:"start",exits:["n","s","e","w"],monsters:[]},"0,1":{name:"road",exits:["e","w"],monsters:[]},"0,2":{name:"road",exits:["e","w"],monsters:[]},"0,3":{name:"start",exits:["n","s","e","w"],monsters:[]},"-1,0":{name:"road",exits:["e","w"],monsters:[]},"-2,0":{name:"road",exits:["e","w"],monsters:[]},"-3,0":{name:"start",exits:["n","s","e","w"],monsters:[]},"-1,1":{name:"road",exits:["e","w"],monsters:[]},"-2,1":{name:"road",exits:["e","w"],monsters:[]},"-3,0":{name:"start",exits:["n","s","e","w"],monsters:[]},"-1,2":{name:"road",exits:["e","w"],monsters:[]},"-2,2":{name:"road",exits:["e","w"],monsters:[]},"-3,2":{name:"start",exits:["n","s","e","w"],monsters:[]},"-1,3":{name:"road",exits:["e","w"],monsters:[]},"-2,3":{name:"road",exits:["e","w"],monsters:[]},"-3,3":{name:"start",exits:["n","s","e","w"],monsters:[]},"0,-1":{name:"road",exits:["e","w"],monsters:[]},"0,-2":{name:"road",exits:["e","w"],monsters:[]},"0,-3":{name:"start",exits:["n","s","e","w"],monsters:[]},"1,-1":{name:"road",exits:["e","w"],monsters:[]},"1,-2":{name:"road",exits:["e","w"],monsters:[]},"1,-3":{name:"start",exits:["n","s","e","w"],monsters:[]},"2,-1":{name:"road",exits:["e","w"],monsters:[]},"2,-2":{name:"road",exits:["e","w"],monsters:[]},"2,-3":{name:"road",exits:["e","w"],monsters:[]},"3,-1":{name:"road",exits:["e","w"],monsters:[]},"3,-2":{name:"road",exits:["e","w"],monsters:[]},"3,-3":{name:"road",exits:["e","w"],monsters:[]},"-1,-1":{name:"road",exits:["e","w"],monsters:[]},"-1,-2":{name:"road",exits:["e","w"],monsters:[]},"-1,-3":{name:"road",exits:["e","w"],monsters:[]},"-2,-1":{name:"road",exits:["e","w"],monsters:[]},"-2,-2":{name:"road",exits:["e","w"],monsters:[]},"-2,-3":{name:"road",exits:["e","w"],monsters:[]},"-3,-1":{name:"road",exits:["e","w"],monsters:[]},"-3,-2":{name:"road",exits:["e","w"],monsters:[]},"-3,-3":{name:"road",exits:["e","w"],monsters:[]}};const t={storageAvailable:function(e){let t;try{t=window[e];const r="__storage_test__";return t.setItem(r,r),t.removeItem(r),!0}catch(e){return e instanceof DOMException&&"QuotaExceededError"===e.name&&t&&0!==t.length}}("localStorage"),inputElement:document.querySelector(".input-field"),outputElement:document.querySelector(".output-field")};const r={currentCoords:[0,0],move(e){if(r.hasExit(e)){switch(e){case"n":r.currentCoords[0]+=1;break;case"s":r.currentCoords[0]-=1;break;case"e":r.currentCoords[1]+=1;break;case"w":r.currentCoords[1]-=1}r.outputNewLocation()}else o("No exit in that direction.")},describeLocation(){o(e[r.currentCoords].description)},hasExit(t){if(e[r.currentCoords.toString()].exits.includes(t))return!0},showExits(){o(e[r.currentCoords.toString()].exits)},showCurrentLocation(){o(e[r.currentCoords.toString()].name)},outputNewLocation(){for(var t in e)t==r.currentCoords.toString()&&o("You arrive at "+e[t].name)}};async function o(e,r=!1){let o=document.createElement("span");r.length&&r.forEach((e=>o.classList.add(e)));let a=document.createTextNode(e);o.appendChild(a),t.outputElement.prepend(o)}t.inputElement.onchange=e=>(function(e){switch(e){case"":break;case"n":case"s":case"e":case"w":r.move(e);break;case"a":case"attack":attack();break;case"exits":showExits();break;case"location":showCurrentLocation();break;case"l":case"look":r.describeLocation()}}(e.target.value),void(t.inputElement.value=""));const a={azak:{name:"Azak",race1:"Djinn",race2:"",age:20,talent1:"Physical strength",talent2:"",power:"",word1:"",word2:"",word3:"",word4:"",word5:"",experiences:{}},holindarn:{name:"Holindarn",race1:"Imp",race2:"",age:45,talent1:"",talent2:"",power:"",word1:"",word2:"",word3:"",word4:"",word5:"",experiences:{}},gathmor:{name:"Gathmor",race1:"Jotunn",race2:"",age:28,talent1:"",talent2:"",power:"",word1:"",word2:"",word3:"",word4:"",word5:"",experiences:{}},inosolan:{name:"Inosolan",race1:"Imp",race2:"",age:16,talent1:"",talent2:"",power:"",word1:"",word2:"",word3:"",word4:"",word5:"",experiences:{}},kadolan:{name:"Kadolan",race1:"Imp",race2:"",age:43,talent1:"adolescents",talent2:"",power:"",word1:"",word2:"",word3:"",word4:"",word5:"",experiences:{}},littleChicken:{name:"Little Chicken",race1:"Goblin",race2:"",age:16,talent1:"physical strength",talent2:"",power:"",word1:"",word2:"",word3:"",word4:"",word5:"",experiences:{}},oothiana:{name:"Oothiana",race1:"Imp",race2:"",age:16,talent1:"strategy",talent2:"",power:"",word1:"",word2:"",word3:"",word4:"",word5:"",experiences:{}},rap:{name:"Rap",race1:"Faun",race2:"Jotunn",age:16,talent1:"animals",talent2:"farsight",power:"",word1:"",word2:"",word3:"",word4:"",word5:"",experiences:{}},rasha:{name:"Rasha",race1:"Djinn",race2:"",age:16,talent1:"ex",talent2:"",power:"",word1:"",word2:"",word3:"",word4:"",word5:"",experiences:{}},raspnex:{name:"Raspnex",race1:"Dwarf",race2:"",age:34,talent1:"",talent2:"",power:"",word1:"",word2:"",word3:"",word4:"",word5:"",experiences:{}},zinixo:{name:"Zinixo",race1:"Dwarf",race2:"",age:18,talent1:"",talent2:"",power:"",word1:"",word2:"",word3:"",word4:"",word5:"",experiences:{}}},n={setStorage(e,r){t.storageAvailable&&localStorage.setItem(e,r)}},s=document.querySelector("dialog.c-menu"),i=document.querySelector("dialog.c-menu--new-game");s.showModal(),Array.from(s.querySelectorAll("button")).forEach((e=>{switch(e.dataset.function){case"new":e.onclick=e=>(s.close(),i.showModal(),void function(){const e=i.querySelector("ul");for(const r in a){const o=document.createElement("li"),s=document.createElement("button"),d=a[r].name;s.append(d),s.dataset.function=d,o.appendChild(s),e.appendChild(o),s.onclick=e=>{n.setStorage("newGame",d),i.close(),t.inputElement.focus()}}}());break;case"save":case"load":break;case"quit":e.onclick=e=>window.close()}}))})();